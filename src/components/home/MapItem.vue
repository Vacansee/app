<script setup>
import tinycolor from "tinycolor2";
</script>
<template>
  <!-- data for every building -->
  <div id="mapBox">
    <svg viewBox="0 0 1024 1706" id="map">
      <g id="bg">
        <g id="stair">
          <path d="M847.6 903.6h7.7M10.6 789.8l-43.3 1.2" />
          <path d="M59.2 788.6H48.5l-.2-6H10.5" />
          <path
            d="m315.2 732.8 15.2-.4M338.1 701.8v-2M338.1 698v-1.6M774.8 827.9 744 810.7M170.9 926.4l-2.3-.4M500.5 699.6l-4 .2M501 708.4l-.2-4.4M556 739.6l10 .3M621.5 730.2l.5-8M614.7 741.9l-7.5-.2M691.7 709.1l4.7-2M508 773.2v5M517 792.4h-6" />
          <path d="m48.3 782.6.2-6.1h10.7M74.6 723.2l15-.9 2.3 4.2H107.8" />
          <path
            d="m160.8 925.4-3-.3M156 925l-2.7-.3M149.8 924.4l-3.1-.3M145.3 924l-2.6-.2M255.7 920.6l-2 .8M429.7 820l6.7-.2M518.6 809.5v-3M574.5 845l7.9.4M550 814v-3.5M230.2 933.3l-2.1 2M249.1 904.2l5.4-.5M172.2 801.1l-17.7-3.9M829.4 799.4l-4.3-1.6M113.2 996.5l-3-1M157.6 756.2l4 3.4M150.9 750.2l4.2 3.7M143.6 743.5l4.7 4.3M138.1 739l4.8 3.9M131.7 732l1.8 2.7M491.7 713.1l-16.7.9M223.3 752.8l-5-10.6M187.6 769.4l-1.8-10M212.6 722.7l.6-4M208 703.9l-5 2M216 697.2l-.4-5.3" />
          <path d="m227 658.6-4.4 16.9-8.8.4M131.6 1009l.3-1.8.5-1.5.6-1.4.7-1.2 1-1.4 1.2-1 1.6-1 .6-.4" />
          <path d="M108.4 995.1h-3M167.1 925.9l-2.8-.3M560.4 975.3v2.6M887.1 904.1h5.2M517 799.4v-3.5" />
          <path d="m341.8 808.3 7-.2v-2.3l-5.8.1" />
          <path
            d="M630.1 719.7v2.3M501.2 712.7l.5 5.8M290.8 727.4l-.3-6M165.6 638.3l-8.8.1M154.4 665.2h4.1M150.2 631.5l-9-.4M131.2 778.4l.8-3.9" />
          <path d="m95 642.2-7.7.4-.3 7.4-21.2.9M87 650l-.4 10.7 8-.2" />
          <path d="m565.2 814.8 9.8-.4M569 806.7l-3.8 8.1M630.2 722v1.6" />
        </g>
        <g id="walk">
          <path
            d="m744 810.7-2.3-1.1-2.8-.3-4.5-.2-6.2-.9-33.5 1.7-20.2-.6-22.8-1.6M640 833.2l1.8-2.1 20.1.5.3-13.2-10.5-10.7M195.4 689.5l-1.6-.2-1.7-.8-7.6-2" />
          <path
            d="m199.7 687.4.5-1.5v-1.5l-.8-1.9-1.4-1.7-1.3-1-3.5-1-3.8.4-1.8 2-3 5.4M190.8 694l4.6-4.5 1.2-.1 1.3-.5 1-.7.8-.8 2 .6 2 .2 1.9-.1 3.9-1" />
          <path d="m215.6 691.9-8.3.1M532 816.3v12.8" />
          <path
            d="m200 704-1.6 1.6-3.5 1.2h-3.4l-3.3-.8-4.8-2-1.6 5-1.5 2.5-1.7 2.3-5 5.9-1.7 2.5-1.4 2.9-.7 3-4 25.2v2.8l.7 2.9.4.9M373.2 964.6l25.3 1.2 3.3-1 9.3-1h4.5l52.3 2.3 72.7 3.6-.8 15.2 20.3 1 21.5 1 8.7.4M237.4 904h7.4l4.3.2M871.2 761.6l3.6 7.7-.7 15.8" />
          <path d="m225 644.8 2 13.8" />
          <path
            d="m558.9 692.7-20 11.4-13.7 12.4M133 781l-2.3-.3.5-2.3M611.8 823l7 .5 6-8.2 3.4-5 .3-6-.9-24.5-3-4.2.3-21.4M511 792.5h-2.5l-36 .4M160.7 671l1.1-5.7 3.4-4.5L177 652M824.3 913.3l6 6.7 9.3 10.4 2.6 3 9.1 4.4 37.5 1.8 11-6.5M943.6 792.8c-8.3.1-15.4 0-23.7 2 0 0-5.3 2.3-6.7 4.6-1.5 2.5-2.3 10-2.3 10l-3 5.9-3.6 3.7-6 1.9-8.7.7-16.6.4-19.9-.9-6-.4-6.2-1.6-2.5-2.2-3-3.5-1.4-2.8-.8-5-.6-6.2-8.2-4.7h-14.2l-39.8 5.5-19 1.6-13.1-5.6M864 1004.2l-.2 11.3 32.6.7 8.4 7.8 3.8.1 33.2.5" />
          <path d="m619.3 742-4.6-.1" />
          <path d="M107.8 726.5h12.4l3.6-.1M888.1 978.4v-4l.7-34.8" />
          <path d="M888.1 978.4h18.3M835.5 977.6h15.1M841.3 1015l22.5.5" />
          <path
            d="m728.5 782.5-.4-.5-5-6.8-5.6-7-14.6-14.2-12-1.3.5-10.4M824.6 893l6.5-2.3 5.5-4.5 3.6-4.3.4-10.9.2-2.5 3.4-.7 4.2-.7h5.3l5.5 1v-4.7l12-12.3M410 880.6l.7 22.8-.8 3.8-.4 24.5 10.2 6 3.8 2.8 3.3 2.3 3.3 5.2 2.4 2.5 4 1 4.8 1.5 26.6 1.2v11.9" />
          <path d="m859.4 840.3 11.8 10.8 10.6 17.6 2.1.1h.5l3.3.1 13.6.6 37-23.5" />
          <path d="m805.5 841.2 5.2.4 10.2 2 9.8 1.8 9 2.8 8.6 2.6h1.3l8.3.3H871.2l13.4-10" />
          <path d="M517 792.4v-19" />
          <path
            d="m574.5 845-.3 32h-15v-7.2h-28M850 1003.5v-1.9l.6-24 37.5.8v2.6l-.5 23.9-23.5-.7-14.1-.7M359.3 545.5l.5 16.2.1 17.3.4 16.7.2 17v9.4l-.2 25.6-1.8 9.2M567 697.6l.2-4.5-8.3-.4-27.5-1.2-6.2 25" />
          <path d="m666.4 706 6.4 5.3" />
          <path d="m226.6 760 2.5 2.5 7.6 5.6 11.5 7.6 2.5 1.9 12.7 7.6 8.4 2.4M833.2 1037l.1-15.2h7.9l.3-20.3 8.5.1" />
          <path d="M305.3 732.8h9.9" />
          <path
            d="m495.2 712.8 3.5-.2h2.5M551.2 773.5l.6-16.8s-2.8-1.8-6.2-2.6c-2.3-.5-5-1-7-1.2a42.8 42.8 0 0 0-14.9 2.7l-.5 17.7-6.2.2-9-.3-1.3-18.8-.4-6-5.5-14.7 8-3.7M409.5 931.7l-2.2 7.4-5 19.5-.5 6.2-.6 9.7 9.4 1M873.8 799.9 873 822l-1.8 29.1 8.1.6 5.3 1 12 2.4 4.9.4 3.7-.6 33-9 6.9-7.4-1.5-9.2M207 747l-1.5-3v-2.5l2.5-7.3 4.6-11.5" />
          <path d="m592 912 34.4 1.6" />
          <path d="m328 898.5-2 13.2L322 928l4.2 4.4 3.1 4 2.6 4.8 2.1 5.3 1.2 3.7.8 3.9.6 4v4l-.7 7.6" />
          <path d="m626.8 895.8-34.5-.1" />
          <path d="m410 988 17.6 1.7 4.5.5 3.8-.3 4.6-.7 2.5-.1 3.5.5 8.3 1.7" />
          <path d="m183.4 704.1 4-14" />
          <path
            d="m187.3 790.5.4-19.5v-1.6M129.8 726.3l1.3 4.4.6 1.4M766.6 848l.4-8.6 1-3.6 1.5-3.1 2.8-3.6M307.5 729.4l-4.4 6.9 1.2 50M189 848.5l32.7-1.8-.5-24.7M358.9 707.3l.3-4.1-1.4-37.7.7-8.6" />
          <path d="m619.3 742 2.2-11.8" />
          <path
            d="m772.3 829.1 2.5-1.2 2.3-.1 3 .5 9.6 1.8 3.1 2 3.7 2.4 3.8 2.8 5.3 3.9 3.5 3.7 28.7 19.8M672.8 711.3l13.5.1 5.4-2.3M469.5 737.8l1.4-3.6 3-11-.6-9.1M501.7 718.5l3.8 7.1 3.3 4.4 3.2 4 3.7 2.4 4.4 1.1 10.4.7 7.5.6 18 .8M571.7 822.1l2.6 9.6.2 13.3M539.8 984.9l-.7 17-52.4-1.7-2.4.3-2.1.2-2.5.5-1.6.4h-3.6l-1.4-.5-1.3-1-1.4-2.2-1.3-2.2-1.6-1.7-2-1.4-2.5-1-2.7-.6h-2.8l-2.7.3-4.6 73.5H448l.6 9.5.4 5.6" />
          <path d="m226.6 760 4.7 15.7" />
          <path
            d="M899.2 899.2v5l.1 4.7.6 24.2M516.2 1013.3l22 .3.9-11.7M229.4 790.3l6.6-6.4 12.2-8.2 12.5-8.3 11.6-8.4 14.1-10 6-2.7M579.7 822.3l-8-.2-21.4-2.7-14.8-1.8-6-2.2-.2-6.1-10.7.2M254.3 728.3l-.4 4.7.1 3.6.1 4" />
          <path d="m495.2 712.8-3.5.3" />
          <path
            d="m141.2 631.1-3.9-.1-18.1-.5-12.1-.1h-7.5l-4.2 3.3-.4 8.5-.3 18.3-.4 8.4 3.2 3.8 32.3 1.3M221.7 846.7l1.2 6.3 2.9 12.3.5 27.2 1 22.3-4.4 8.1.3 11.2 1.3 5M339.6 772.5l3.3-7.3 4.3-15.6 5.9-14.8 5-10.1M434.3 706.2l.5 7.7 1.2 36.9.2 11.4-1 7M401.2 696l.1 4.7-1 5.2-.1 9" />
          <path
            d="m404.4 791.2-12-6.8-9.2-5.4-4.8-3.8-4.6-4.8-4-5-5-8.2-3.4-8.4-2.2-10.6-1.1-13.5.3-8.6.5-8.8M427 802.9c.8-10.5 2.7-20 6.3-28.3l2-5.5 3.2-6.1 19.5-44.8 1-2.8.2-2" />
          <path
            d="M475 714h-1.7l-14.1-.7h-6.8l-17.6.6-34.6 1-41.8 1.2-17.1.3-2.9.7-2.5 1.5-2.4 2.8-2 2.6-.6 3.1-.5 5.3M352.5 790.7l-4.2 8.7-1.7 1.8-4.2 2.7-4.9 2.2-2.3 2-.1 2.8-.4 16-3.5 13.6-2 5.4-2.2 4.4-8.2 10.3-4.7 4.3-4.5 3.5-.7 2.1M309.6 868.4l-26.4-36.1-4.8-9.6.8-4.8" />
          <path
            d="M278.4 822.7c3.3.3 6.6.6 9.8 1.2 4.5.8 9 1.6 13.2 3.1a87 87 0 0 1 17.9 11.8c.6.6 6.6 8.4 7.7 11.5 3.5 10.2 6.6 20.5 9.8 30.8M192.6 835.7l9-5.4 6.4-3.5 5.7-2.4 5.6-1.8 2-.6 6.4-1.3" />
          <path d="m329.2 845.9 25.3.2" />
          <path
            d="M278.4 822.7c-8-1-15.7-1.7-23.9-2.4-2-.1-19.7 0-20.5 0l-6.2.4M640 833.2l-12.5-1-8.8-8.7M651.7 807.6l-16.4-2.8-6.8-.5M131.3 1012.6l.2-2v-1.6M118.8 1000.6l1.7-3.8.6-1.6.4-1.6.1-2.7" />
          <path
            d="m178.2 1056.6-1.7-7.3-.3-1.2-.4-1-.7-1-1-1-1.4-1.2-1.4-1.1-2.8-1.8-3-1.6-3.7-1.9-5.5-2.5-1-.5-.8-.7-2.5-2-1.5-1.2-.8-.8-1.1-1.5-3-4-2-2.5-1-1.3-1.2-1.1-.7-.7-.8-.7-1.7-1-3-1.8-3.9-2.6-2.5-1.4-2.1-1.1-2-1.5-1.6-1.6-.4-.5-.7-1-1.5-2.7-.9-1.3-.8-.9-2.4-1.8-1.6-1.1-1.6-1.2M851.3 937.8l-.6 34.4-.1 5.4" />
          <path d="M74.6 723.2H64M224.1 790.5l5.3-.2" />
          <path d="M539 691.8v12.3l-.6 19.6-.4 15-2.2 14.1M214 970.1l2.4-12.4.6-5.8 62.2 6.3" />
          <path d="m500.8 704-.3-4.4" />
          <path d="m496.6 699.8-1.4-30.9-.6-7.7" />
          <path d="m501.2 712.7-.2-4.3" />
          <path d="M338 710v-2.6l.2-2.8M338.3 704.6l-.2-1.5v-1.3" />
          <path d="m338.1 696.4.2-2.2M338 699.9l.1-2" />
          <path d="m339.5 777.7.1-5.2-1.4-40 .2-15.4-.2-6.3-.1-.9" />
          <path d="m330.4 732.4 7.8.1" />
          <path d="m304.3 786.3-22.5-19-9.5-8.3-16.5-15.6" />
          <path d="m696.4 707.1 1.8-.8" />
          <path d="m650.5 703.5-4.2 8.8-12.2-.3-2.7.2-.8 1.2-.5 6.3" />
          <path d="m624.9 754.2-18.5-1M624.9 754.2l-5.6-12.1M596.5 741.1l-6.1-.2M590.4 740.9l-4.3-.2M603.4 741.4l-7-.3" />
          <path d="m607.2 741.7-1.6-.2-2.2-.1" />
          <path d="m624.5 775.6-18.1-22.3-1-1.2.2-10.6" />
          <path d="m622 722.1-.2-2.3M573.5 740l-7.4-.1" />
          <path d="M501.2 712.7h10.1l6.4 1.4 6.1 1.8 14.6 7.8 3.2 2.4 3.4 3.4 6 6.3 2.2 2 2.8 1.8" />
          <path d="m146.7 924.1-1.4-.1M153.3 924.7l-3.5-.3M157.9 925H156M164.3 925.6l-3.5-.2M168.6 926l-1.5-.1" />
          <path
            d="m244.8 904 3.4 14.5 1.2 4.4 3.8 8 2.4 5 3.2 4.7 3 3.5 3 2.7 5 3 5.4 2.4 1.6.6 3.3 1.3 3.8 1 7-1 6.3-1.4 5.6-2.4 4.5-2.7 4.5-3.5 2.4-2.8 1.9-2.3 3-5 2.8-6-3.6-2.7-4.3-3-6.2-2.9-4.7-2.1-5-2.2" />
          <path
            d="m298 915-8.8.7-17.1.7-3.7.5-4.7 1.6-8 2M329.8 884.9c0 3.5-.2 7.1-.6 10.7-.1 1-1.7 2-1.2 3 13 21.3 26.7 42.2 40.8 62.8 1 1.5 3.8 1.5 4.4 3.2.9 2.3.1 5-.5 7.3" />
          <path
            d="m328 898.5-6.7 5.8-4.3 3-5.4 3.2-8.3 2.7-5.2 1.9M254.5 903.7l4.5-.2 2 4.9 2.5 4 3.6 3.5 1.3 1M228 935.2l-3.5 3.8-2.9 4.3-3.2 6-1.4 2.6-20.8-1.8M227.8 820.7l-2.5-6.7-.5-1.1-.7-22.3-6-.2h-30.8l-12.4-.2-2.5 2.5-.2 8.4M236.7 880l.3 12 .4 12" />
          <path
            d="m329.8 884.9-4.5-4.1-16.4-10.3-8.4-2.4-6.2-.7-6.2-.3h-6l-4.6.5-3.6 1-5.7 1.8-.4.2-1.5 1-5.6 4.7-2.6 1.7-4 1.1-9 .3-8.4.7M332 817.1l-48 .8" />
          <path d="m278.4 822.7-4.9 3.7-7.3 5.1-4.9 2.9-5.1 5.3-3.1 5.6-4.6 10.6-1.1 6.1-1.3 12.3-1 5.1" />
          <path d="M523.4 802v3" />
          <path d="m550 810.5-.1-4.8-.3-7.5" />
          <path d="m550.3 819.4-.3-5.4" />
          <path d="m575 814.4.2 2-3.5 5.7M518.5 802.2l4.9-.1.2-14.1" />
          <path d="m508 778.2.5 14.3M621.8 719.8l8.3-.1M621.8 719.8h-15.5" />
          <path d="m419.1 858.4.1-5.2.1-17 .8-1.7 5.6-5.6 1.6-1.4.3-7.4v-2l-.1-3.3-.5-12" />
          <path d="m427 802.9-23.8-12" />
          <path d="M518.6 806.6v-4.4l-1.6-1.8v-1M345.8 881.4l-9-.3-7 3.8" />
          <path d="m259 903.5 14.7-.3" />
          <path
            d="m253.6 921.4-4.2 1.5-5.5 1.9-5.6 3-5.4 3.4-2.7 2.1M278.7 961.8l.5 1.4a5.6 5.6 0 0 0 5 3c3.3-.1 5.8-3 5.5-6.2a5.6 5.6 0 0 0-7.2-4.7 5.6 5.6 0 0 0-3.8 6.5" />
          <path d="m287.2 965.3 6.1.6 42.5 3.8 36.9 2.2 28.5 2.6M266 974.4l.3-2.4.3-1.3.9-1.3 1.6-1.6 1.6-1.3 8-4.7" />
          <path d="m142.7 923.8-11.3-1M180.7 927.6l-9.8-1.2M172.4 947l-9.8-1.1M226.6 760l-2-4.6" />
          <path
            d="m224.1 790.5-5.8-3.4-30.6-16M224.1 790.5l1.8-6 5.4-8.8 5.4-7.6 16.2-23.5M250 799l.1-9 .6-12.4M436.4 819.8h1.2l-.1-3.3" />
          <path d="M427.6 820.1h2.1" />
          <path d="m446.6 818.4-6.5 7-3.8 5.6-1.9 2.5-7.1-6M434.4 833.5l4.7 5.7.8 1.8.3 2.8-.4 5.2-.4 3.4-2 6.6-3 3.5" />
          <path d="m216 699.9 44.9-1.6" />
          <path
            d="m203 705.8-1.5-.4-1.5-1.3-9.2-10.1-3.5-3.8-2.8-3.6-4-3.2-19.8-12.4-.3 4.3-.3 3.7-.3 17.5-.4 4.7-1.4 4.3-2 4-2.4 3.3-3 4.1-3.3 3-2.6 1.9-2.6 1.8-3.8 1.8-3.5 1.1-5-.2-6 .1M213.2 718.8l1-15 1.8-3.9-8 4M110.8 726.5l-6.5 9-7.9 12A260.6 260.6 0 0 0 79 782.6h-6.5l-2 6h-8" />
          <path d="m185.8 759.4-.4-2.1" />
          <path
            d="m271.8 787.6.1 20.4 1.1 4.5 6.2 5.4h4.8M251.7 743l.2.5.2.5c.4.5 1.1.9 1.8.8 1.3 0 2.3-1.2 2-2.5-.1-.6-.5-1.1-1-1.4-.3-.2-.5-.3-.8-.3h-1c-.5.3-1 .7-1.2 1.3l-.2.5v.6Z" />
          <path d="m254.9 744.6 5.8 22.8 4 14.1 7.1 6M251.9 743.5l-27.4 12-1.2-2.7M148.3 747.8l1.3 1.1 1.3 1.3" />
          <path d="m142.9 742.9.7.6M155.1 754l2.5 2.2" />
          <path d="m161.5 759.6 1.4 1.4 1.3 1.2" />
          <path d="m110.2 995.4-1.8-.3" />
          <path d="m105.3 995.2-1.3.2-.7-.3-.6-.5-.3-1 .5-4.8M138.1 999.3l.7-.3 2.2-1.3.7-.6.2-.7.3-3.9" />
          <path d="m226.3 892.5 10.7-.5M237 892l10.7-.5" />
          <path d="m213.8 676-.2 4.1-1.6 2.1-1.4 2.4-1.1 2.5-2.2 5-2.5 4.4-2.3 3.8-2.5 3.8" />
          <path d="M216 699.9v-2.7M832.6 799.4h-3.2M837.8 864.7l3 3.8M849.6 850.8l-11.8 13.9" />
          <path
            d="m754.9 976.9 37.2.3 59.2-39.4M850.7 972.2l2.3-1 2-.7h2.5l2.1.5 2.2-1 2.2-1 2-.3 2.2.2 2.1.5 2 .8 1.4.7 1.8-.3 2-.2 2.2.2 1.6.7 2 .7 4.9 2.3M888.8 939.6l9.2 5 47.6 33.3 5.4.6-.2-2.9M899.9 933.1l8-3.5 7-14.2M850 1003.5l19.9-11.7L888 981" />
          <path d="m850.6 977.6 19.3 14.2 17.7 13" />
          <path d="m133.5 734.7 4.6 4.2" />
          <path
            d="m225.3 814-40.6.5H172v-2.2l.2-11.2M839.6 930.4l.3-23v-3.8l.3-21.7M410.7 903.4l5.3-2.2 14.9-5.3s5.5-1.5 8.3-1.9c3.1-.4 10.6-.7 10.6-.7" />
          <path d="m409.9 907.2-11.4-.6" />
          <path d="m560.5 968.6-.1 6.7v2.6l-.3 8-.2 7.3-6.8 11.7" />
          <path d="M581.4 1037.5h-20.8" />
          <path
            d="m640 833.2.6 7.7 1.2 9.1 7.4 3.2 70.3 1.2M884.4 868.8l.2-16V841l1.2-9.6M859.1 863.4v-12.3l.3-10.8-.5-4.8M859.2 868h1.3l21.3.7" />
          <path d="M158.5 665.2h3.3M132.2 664.4l22.2.8M120.2 726.4v6.9" />
          <path
            d="m174.2 638.1-8 .1h-.6M440 841l-9.2 11-3.5 5.8M132 774.5l1.2-6 1.3-2.4 15.1-17.2 20.2-20.8M227.8 820.7l5.5 14.1 3.2 6.6 4.3 6.4 4.8 5.5 3 2.6 5.7 5.7 11.1 8 2.4 1M758.4 763l-1.4 1.3-2-.5-6.5-5.3-8.3-4.4-8.9-1.9-4.9.7M523.4 805l4 .1 22.5.6" />
          <path d="M527 815.4h2.4M291.4 734.4l-.6-7" />
          <path
            d="m309.4 699.5-19.4.4.5 21.4M408.2 653.8l.5-13.4-1.2-7.6-3-8.2-.3-11.6-.4-17.6-.4-16.7-.4-16.6-.2-16.7-.1-16M96.7 726.5l.3-3.7 5.3-4.8.7-27.1 15.6.2M156.8 638.4h-1.5l-5.1-7M731 791.5l-2.9-9.5-4.4-15-6.5-18-2.5-6.1L710 731l-6.3-13.6-5.6-11.2-2.9-5.3-2-4-4.3-5.4-4.6-4.7-6.4-5-7.4-4.3-5.7-2.1-9.8-2-5.8-.1-20.8-.5-17-.2-2.8 1.2-1.3 4.2-1 41.7M929.5 1228.4c9.1.2 27-.5 34.2-4.7l3.3-89.1.2-17 .4-17.2.6-29.5.2-15 .8-30.3.6-20.8.5-28.4.6-22.3.8-31.5.4-18 .1-9.2 1-31.7.8-42.1.4-23.7.2-8.3-.3-2.2-1.2-1.4-3-2-16.1-7.8" />
          <path d="M892.3 904.2h7M840 903.6h7.6M829.7 937.5l.6-17.5M831 890.7l.5-20.5" />
          <path d="m506.7 754.4 7.4 1.3 7.3 3.5M889 874.3l-.2-3.1-1.1-2.3" />
          <path d="M559.2 877v13.6M517 796v-3.6M331.1 798.8l.8 18.3M337.5 806.1l5.5-.2" />
          <path d="M335 810.9h2.5v-2.6h4.3" />
          <path d="m606.3 719.8-.7 21.7M627.6 779.8l2.1-11.3M629.7 768.5l3.4-2.6M630.2 723.6l4 3.3" />
          <path d="m633.1 766 1-39 .4-10.3 49.3 1.3-1.3 49.3-49.4-1.4" />
        </g>
        <g id="roadlarge">
          <path
            d="m602.8 416.7 390.3-4.3-390.3 4.3h-7.2l-68-.6-75.3-.1-77.3-3-2.4-.2-10.9-.9-62.3-5-35.5-2.6-16.7-1.2-25.9-1.8-46.3-4-14-.2-14.7 1.1-13 3.4-15.9 7-49 28.5-33.6 20L6 472.8l-19.4 9.4-13.8 3.3-6.2.8-4.4.5-16.4.3-9.6.2 9.4 2.3 19.7 5.3 9 .5 13 1.8 80.3 8.4 61.5 7 15.8 4c.3-.8 27.9 15 28.2 16.5l29.2 31.5 15 16.9 20.7 23 6.3 8.1 14.2 22.8 5.7 6 4.7 3 7.1 2.4 40.2 4.4 33.4 4 8.9 1.7 49.3 2 26.6 1.1 60.2 1.2 91 2.4 12 .6" />
          <path
            d="m518.7 1207.3 39.5 2.3 40 2.3 55.3 4.2 135.5 8.2 54.2 3.4 119.2 7h11.7l2.8-131 1.8-77.9.6-33.9 1-34.4 1.6-50.3.4-11.9 1.6-54.2.2-5.6.7-53.5.3-19.7.2-10 .8-41 1.2-68.8.4-23.5 1.4-66.7.5-16.3-.2-9.5.4-17.7.4-12.6 3.2-79.1-.3-4.7 1.3-131.4.4-43.3V235l.2-32.9 1-31.9 2.6-75 .3-36 .1-6.5.8-84.3.9-50.7 1.5-76.5 1-69.5" />
          <path
            d="m558.6 1547.8 16.7-29.8 3.1-8 3-7.5 3-12.3 4-21.4 3-16.5 1.1-16.7 1.1-17.5 3.5-86.5-1.2-13-1.2-41.5s3.3-64.8 2.5-64.1l8-101.6.4-21.2-.6-12.2-.2-8.5-1.6-14.3-3-14.3-2.4-7.8-1.5-5-2.5-10-2.7-13.8-.8-17 .7-41.2 1-34.2v-7.8l.3-8.4.9-36.1 1.5-53.3 1.8-65.2.2-21.3.5-43 .4-12.6M597.6 664.2h13l38.9-.1 6.7 1 14.6 4 15 8 19 9.1 10.5 2.7 37.6 10.3 18.3 7.8 9.1 6 24 18.8 22 18.1 10 5.7 7 2.5 11.2 2.3 16.7 1.2 10.3.2 19 .3 18.6.2 19.4 4.4 10.7 3.6 35.6 11.7M55 1106l.4-18.5 1-40.2 1-42.2 1.1-49.2 1.9-77.2 1.6-68.3.5-21.8.3-11.8 1.3-53.6.2-9.7 1.5-62.6.1-6.8 3.4-140.4-1.7 2 .8-68.6L70 276.5v-122l6.2-114.3M597.6 664.2l.4-12.8 5.6-223.7.3-9-1.1-2 .2-11.2 2.7-117 .1-4.7.2-6.5 1.8-105.9.2-6.7.1-6.5 3.5-111 1-53.7 3-173.2.6-40.7.2-11" />
          <path d="m-39.5 1163.8 12.6-8.9 14.5-11.2 10.7-7.7 12.7-7.4 19.2-8 22.2-8.6" />
          <path
            d="m52.4 1112-20.8-9-16.1-1.6-12.4-2.2-19.7-4.2h-29.7M52.4 1112l13.5-2.8 39.8 2.8 28.9 4.2 19.1 4M153.7 1120.2l64 16 48 10.8 21 6 26 9 12.6 8.9 7.5 8.8 6.9 9.8 3.5 9.3 16 58.3 11 31.7 12.5 30.4 13.8 32.4 3.4 6.7 14 25.7 7.6 14 2 3.9 5.6 9.8 35 62.7 16.8 22 7.5 6.3 70.2 45.1M825.8 1554.1l-3.8-15.6-20.2-96.5-3.5-24.6-5.1-44.5-.5-10-.2-9-7-59 3.5-70.6" />
          <path
            d="m396.5 1351.6-10 4.2-7.2 1.3-6 .5-5.2 2.3-2.3 8.7 2.3-8.7-19.7-28-7-12.6-10.8-36.2-6.5-18.9-3.4-10.4-4.8-6.3-5.5-4.4-9.8-5.4-49.5-7.4-7.8.6-10 3.3-16.1 9-12.3 8.2-9.6 13.7-9.6 22.6-8.2 21.4-2.3 6-2.9 15.2-1.6 9.3-2.6 11.3-4.4 11.4-27 23.7M515 1450.9l40.1.7 36.3.7" />
          <path
            d="m224.7 1701.3 4 8 6.3 10.8 7 5.8 32.5 11.1 7.2-.7 5.5-3 16.8-35.5 8.7-13.3 8.4-8 14.2-9 9.6-7.7 5.6-7.3 4.2-7.8 5.3-14.3 1-8.1-.8-7.8-2.7-10-7.3-10.6-71.6-88-8.2-7.5-5.4-4.2-11.6-5.2-8.2-2.2-7.9-.4-8.7.6-11.5 2.3-43.2 7.1-11.2 1.5-5.4-.7-3.1-1.4-3.8-3.2-3.3-6-1.5-4.2-.3-5.4.4-4.6 2-4 4.3-4.5 6.7-3.3 5.5-.3 17.4 4 9.7 2.7 8.8.7 11.2-2.4 7.2-2.6 5.8-2 11-2.9 14.6-2 18.4-5.2 15-6.4 33.6-19.4 14.3-12.6 10-10 8.3-11.4 5.8-8.2s9.7-13.3 10.5-14l8.3-1.9 6.4-2.3 5.4-1.2 14-4.9M596 1318.6H437h41.4l-1.9 89 31.6 56.5 3.7 2 61.3 41.9 5.2 2" />
        </g>
        <g id="roadmed">
          <path
            d="m714.2 720.9 8 20 4.2 12L732 769l6.1 22.2.3 5 .6 13-1.9 47.2 1.2 11.4 1.5 10.3 2.3 7.6 1.8 6.3 2.8 6.5 4.8 7 5 3.5 5.9 2.1 11.8 1.1 50.2 1.1.3-20.3-59.5-2.7H763l-21-4.6M437 1277.4l2.5-109.1 2.1-88.8M488.4 1502.7l20.5-31 3-5.7 1.7-3 1.4-12.1 3.2-243.6.2-35.4 5-87.6" />
          <path
            d="m439.5 1168.3 41.3 1.5 37.6 2.1M62 810.4c2.2 0 4.5-.2 6.6-.8a6.2 6.2 0 0 0 3-2c.8-1.2 1.2-2.7 1.8-4 3.2-6.7 3.1-6.8 5.9-13.7 2.6-6.5 5.3-12.9 8.3-19.2 3.3-7.2 6.4-14 11.3-20.3 3.5-4.6 7.3-9.8 12.4-13.1.8-.6 1.8-1 2.7-1.5 1.8-1 2.1-1.1 4.2-1.5 1.7-.2 4.4-.2 5.9.9.5.3.8 1 1 1.5.4.7.8 1.4.7 2.1 0 1.6-.6 3-1 4.6-1.3 5.5-1.6 5.4-3.4 11.4a236 236 0 0 0-7.3 30.2c-.6 4 .4 8.6 2 12.3.7 1.7 1.4 3.4 2.5 4.8 1 1.4 2.4 2.4 3.8 3.5 1.3 1 2.6 2 4.1 2.7a21.9 21.9 0 0 0 12.2 1.9 20.4 20.4 0 0 0 12.2-5.4c2-2.3 2.8-4.8 3.6-7.6 1.4-5.1 2.6-10.3 3.9-15.4 2-7.8 1.9-9.4 5.3-15.8a17 17 0 0 1 4-4.7c.8-.5 1.6-.7 2.4-1 3.5-1.1 4.1-1 8-1.7 2.4-.4 5-.4 7.3-1.3a309 309 0 0 0 21.5-9.6c8.3-4.2 9.4-5.4 16.7-7.7 3-1 7.6-2 10.7-2.4l5.5-.3 14.2-.7c15.4-.8 31 .4 46.3-2.3 2.7-.5 13.7-25 13.7-25l3.6-1.4 20.4-.5h20.9l41.3-1.5 34.1.3 1-6.5-.3-11.6-.6-28" />
          <path d="m386.5 882.2-.6 16" />
          <path d="M567 697.6v6l-1 36.3-.6 44.1-.2 15.9 4.5 5.4 8 .4 17 .6M227.7 1019.4l-6.3.2-4.6 2-5.4 6.7" />
          <path d="m674 772-.6 18" />
          <path d="m137.2 635.3.1-4.3.4-18 2.2-3.4 9.2-7.9 7.6-3.3 6.2-1.1 16.7-2.6 37.6-13.2" />
          <path d="m399 860.6.6 20.8" />
          <path
            d="M414 880.6h-4l-10.4.8-10.1.8h-3l-40.7-.8M227.7 1019.4l4.2 3.9 4 2.8 5.1 1.8 37.5 4M303.8 620.5l3.7-3.5 3-3.4 1.8-3.8 1-5.4-30.8-1M532 829.1l-.8 40.7-1.6 55.7-90.3-4.2-4.7.4-3.7 1.3-2.2 2.3-2.9 3.4-6.1 9-2.7 5.2-2.8 5.8-2 7.2-1 7.9-.6 11.8-.6 12.5-.5 4.8-2.3 28-.4 5.6-1.1 15.4-2.8 34.4M627.3 861.1v-5.2l.2-7.4 1-3 1.8-2.4 2.5-1.8 3.1-.6 4.7.2 5.7.2 6 .3M434.3 706.2l5.1.7 3.4 1 4 1.9 2.8 1.8 2.8 1.8 5.6 4.8 4 5 2.2 3 2.1 3.6 2 4 1.2 4 1 5.9.4 6-.8 7.3-1.6 5.6-1.5 3.4-1.6 3-4.2 7.3-5.4 5.7-5.7 4.3-6 2.2-6.4 1.5-8.9.6-24.4.6-47.5.4-4.4-.9-9-4.3-2.6-2.3-1.4-3.2v-3.2M181.1 959.2l2.2.5c.8.1 1.5.2 2.3.1 3.7-.2 7.6-2.4 9.2-5.8.5-1.3 1.3-2.5 1.4-3.9a11.6 11.6 0 0 0-13.4-12.6c-4.5.8-8 4.5-8.9 9a11.3 11.3 0 0 0 5.2 11.7l2 1M943.6 829.3l.1-33.7v-2.4l1.8-15 1.3-3 2.4-5M260.9 698.3h10.5v-16.7c.5-2 1.8-3.4 5.4-3.5h23.3c2.2.1 3.5 1.2 4.6 3.5l2.3 13 2.4 5 4.6 9.6M685 741.8l29.7 1 7.5-2" />
          <path
            d="m405.7 1041.9-28-2.1-14-1M434.7 880.6h-20.6l-.6-13.4.4-4.4 2.2-3 3-1.4 8.2-.6 4 1 1.9 1.7 1.1 2 .4 18.1.4 14.7-1 16.5-1.2 4.7-2 6.5M1019.8 987.8l-16.5 12.8-3.5 92 16-12.4 1.2-28.3 2.8-64-5-9-6.7-6-27.8-15.4M745 1078.5l17.6-4 24.8-6.2 10.5-4.3 5.1-5 2.3-6.6 2.9-16M649.5 664l-.2 9.4-.3 20.9.4 4.8 1.1 4.4 4 2.2 4.3.9 5.2-.4 2.4-.3 3.3-5 .7-4.6.3-18.7v-8.5M640.8 778.8l.1 1.5 1.3 3 2.1 3 3 2 4.3.7 7.4.5 14.4.4 40.2 1.4 17.4.2 7-.3M81.9 988.1l-1.7 18.3-22.8-1.3M591 946.1l9-2.1 12.2-4.4 5.5-2 3.7-1.8 3.5-2.7 1-3.6.5-16 .4-17.7.5-34.7-34.1-1.5M229.4 790.3l20.7-.4 12-.9 9.7-1.4M963 1025.4l6.2.2 9.4.2M271.8 787.6l3.4-7.8 6.6-12.5 12.7-21.7 5.8-11.3M180.2 958.3c-1.8 3.5-3 8-3.5 12.1l-.4 6.7.6 6.7 1.3 7.6 3.7 9.2 2.7 5.3 4.9 6 11.8 9.8 10.1 6.6 40.5 28.6 2.3 6M185.3 815.2c.1 1.9.6 3.7 1.2 5.4l5.2 15.6 1 3.3-.7 3.7-1.9 2.7-2.6 2.6c-17.4 5-6.8 79-6.8 79l1.6 9" />
          <path d="m317.5 785.9-13.2.4-32.5 1.3" />
          <path d="m718.7 946.7-.2 15.9" />
          <path d="m711 946.3 7.7.4 20.3 1.9M713.1 912.3l-2 34-34.8-1" />
          <path d="m620 904.7-28-.5" />
          <path
            d="M237.4 668.6v-3.4l1.3-1.5 16.8-17-4.8 22.7v8.4M714 622.6l9.6 6.1 32.6 19.7 4.9 3 21.4 6.7 17.8 17.5M652.4 841.4l13 .4 6 .2 48.1 1.3v11.1l2 12.8 16.7.6" />
          <path d="m976.9 1103.6 22.9-11" />
          <path
            d="m804.3 731.8-9 9.7-1.7 2.3-.2 3 2.2 3.9 7 7.6M943.7 795.6l11 .3 4 .4 1.6 2.6v8.5l-.1 19.6-.3 1.7-1.6 1-3.2.1-11.5-.5M889 874.3l14.3.7 6.7 8.4.6 7.4 4.6 4M989.6 536l-9.4 3-3.2 1.1-44.5 25.5-20.1 10.6-25 9.6-10.7 6-11.4 8.9-9.6 10.7-8 14.7-6.5 17-7.7 10.5-8.3 6.8-17.8 10-7.1 5.2-6.8 5.7-6.1 6.8-16.2 19" />
          <path
            d="m769.6 505.8 10.2 7 5.4 7.7 10.2 18.9 13.5 23.4 46.8 48.6M597.8 1033.1l16.2-1 13 1.6 29 7.5 23.2 6.2 18.3 6.2 47.4 25 11.4 5.9 18.2 12.1 29.4 27.6 14.6 16.3 8.2 11.6 11.3 22 4.8 22.1.1 10.3-1.8 24.1M685.8 677l6.9 10.9 6.8 10.8.4.7 5.7 10 8.6 11.5M56.4 1047.3l8.7.7 98.3 7.3 14.8 1.3 54.6 4.7 21.4 1.6 34.3 2.7 114.4 10.7 38.7 3.2 7.4.5 33.3 1.7 27.9 1.5 13.2 1 40.2 3 34.3 2.4 7.7.6M439.5 1168.3l-40 .8-5-.8-4.7-2.9-4.4-6-6.9-11-3.4-3.1-11.3-9-26.3-9.7-41.3-15.6-6.3-1-5.7 1-2.5 1" />
          <path
            d="m656.2 665.1 7-5.4 30.2-15.7 20.5-21.4 7-8.1 11.7-17.5 8.6-15 22.9-58.8 5.5-17.4 5-19.2 9-65.3 1-7.1" />
          <path
            d="m685.8 677-2-9.7L688 653l5.4-9M910.4 413.2l-.1 6.4-2.5 78.7-.3 14.6-.4 15.6.5 19 1.5 14.7 3.3 14M349.6 655.3 349 644l-1-3-2.5-2.9-5.2-3-20.8-7.5-8.6-2.9-7-4.3-9-6-9-8.2-3.3-3-5.3-6.2-3.6-6-1.5-2.4-9.6-23.8-2.8-11.7-.2-5.2 1.2-6.2 3-4.1 4.6-3.1 6-1.8 6.1-1.2 5.2-1.8 4.5-2.5c5-2.8 6-18.6 6.9-35.8l.3-24.5v-5l.2-6.2 1.9-48.8M281.7 1112l-2.5 1-3.3 2.2-4 5-5 24.8M714.2 720.9l-1.6-9.4-.1-6.7.7-5.3.6-2.7 1.5-7.9" />
          <path
            d="m369.4 1410 37.8 67.7M955.4 1359.3l15.7 1 43.2 4.1 7.5-3.4 1.7-2.7 3-13.5 3.1-2.8 17.6-2.6 28.4-8.5M670.8 1356.9l38.6 1.9 83.3 4 160.2 10.4M665 1321.3l-4.8-1.2-38.8-1.2-25.5-.3M488.4 1502.7l4.6 14.7 6.7 63.3M481 1496.5l-49.2 25.2-35 20.6" />
          <path
            d="m670.7 1475.8 55.9-14.5 75.2-19.3 12.8-1.7 101 5.3 39-23-1.7-49.4 2.5-13.9 7-124.6M382.6 1516.7l14.3 25.6 44.7 80.4 4.5 6 2.5 1M437.1 1318.6l.6 66.5-9.8 9.4-6.4 3.6" />
          <path
            d="m665 1321.3 4.1 2.7 2 3.7 1 5.7-1.3 23.5-5.2 107 5.1 12 .7 11.7 7 27.8 6 24.3M407.2 1477.7l24.6 44 53.5 93.8M361.7 411.9l-1.8 42.2v3l-1.2 29.2-13.5 6.2-11.4-.2-23-.5-13.8-.3" />
          <path id="why"
            d="m451.5 528.2-.6-15.7 1-13.2.4-20.6.3-10.1v-17.8l-.2-26.5-.1-8.3 2.2-135.5 1.1-117 .8-119.3 1.7-52.6" />
          <path
            d="m808.9 562.8-3.6 15.2-4 17.7.8 9.9 7.1 9.3 12 7.8 22.7 12.6M608 164.7l-7.4-.1-39.9.5-29.3-1-75.8-.6-76.7-.7-79-1.3M759.7 284.6l-77.6.3-69.5-1.2h-13.8l-67.8-1.2-76.5-2-78-1.8h-76l-75.9-1.3" />
          <path
            d="m375 381.6 1.5-103 2.4-115.8.7-27.9-.2-91.7 2.2-86.9M682.1 285l3-119 3-119 .6-137.9 1.7-27.3 1.3-81.2.4-31.6M527.6 416.1l3.4-133.6.4-118.3 1.4-118 2-69.4M759.7 284.6l.5-6.2v-35.7l-.1-31.1v-46.2l2.2-116.8 3-212.7 1-33.2 1-33.3M300 362.6l-2-23 .2-5.6 2.3-55.3-.5-117.2 3-118.8 2-92.1M221.3 401.3l3.3-123.9-1-117.1 2.3-119 3.3-155.3 1-40V-181.5l-.2-39.1M224.6 277.4l-76.5.3" />
          <path
            d="M608 164.7h7l70 1.2M685 166l75-.6 61.6 1.3L873 168l8.2.3h29l3.7.2 82.2 1.6M148 277.7l-78-1.2M152.8 42l-2.7 65.6-1.2 49.8-.8 120.3-1.8 120.5-1.4 118.3M70 276.5l-85.7-2.4-20.7-2-26-4.7" />
        </g>
        <g id="roadsmall">
          <path d="m-4.1 914 13.3-31.4 3.7-16.5 1.4-17.5-3.7-58.8-.1-7.3 1.7-7.6V643.4h53.6" />
          <path d="m766.6 848-1.5 42.3" />
          <path d="m594.7 1277-77.2-3.3-35.5-2.3-.8-.5-3-5 1.5-16.8 1.1-79.3 1.5-88" />
          <path d="m376.8 989.2 32.7 3.7" />
          <path d="m65.8 650.9-12.4 2-3.2 2.2-1.3 4.2-1 39.8.5 9.1 3 3.9 4.3 1 8.6.4" />
          <path d="m976.9 1103.6 47.2 2.2" />
          <path
            d="m495 1021.2-16.2-.9-13.6-.8-3 2.7-1.1 38.3 2.6 2.8 13.4 1 13.6.9 2.8-2.8 1.5-41.2 13.3.8 3.2 3-.8 35-.1 5.6-.3 11.2-.1 6.4M790.8 1005h13.5l2-1 .7-1.8.3-11.3-.6-2-2.2-1-10.6-.1-2 1.2-.8 2-.4 14-.8 19.8v2.4l.8 2.8 1.5 2.6 1.8 1.6 2 1.2 12.2 1 25 .6 50.2 1.5 2.4-.2 7.5-2.3 2-.5 2.7-.3 10.3.2.3-11.3M351.4 1022.5l27.6 2 11.1.9 16.7 1.1M689 777.6l24.6.7v13M721.5 867.2l3.5 4.1 2.9 5 2.4 15.4 1.5 4.7 1.5 4 3.6 7.4 1.4 6.2.8 5.5.3 17.3-.1 2.5-.3 9.3-1.8 76 .1 1.7 1 1.8 1.6 1 12 .4 1.4-.8.9-1.6v-2.5l.7-47.7M960.8 1015.5l-16.3-.4-1.8 1-.7 1.5-.2 7-.2 8.7.9 1.4 1.7.8 15.8.5 1.6-.7 1.2-2 .3-7.9.1-7.8-.7-1.3-1.7-.8ZM721.5 867.2l-4 4-3 5.2-1.4 35.9M955.4 895.5l-.4 20.6-40.1-.7.3-20.6 40.2.7h16.8l10-.2M264.2 641.4l-8.7 5.4-2.3.6h-2.6l-2.2-1-1.6-1.4-6.5-1.4h-5.2l-10.2 1.2-48 7.2-1.2-14-.4-3.8 20.1-2.9 36-5.5 2.4.4 1.8 1.2 11.2 17.6" />
          <path d="m739.3 939.3 13.7 27.5 1.9 10M580.3 1072l.5-31.4 2-7.7 13.5-4.8" />
          <path d="m379 1024.6-1.3 15.2" />
          <path d="m510.6 1065.6 14 .5 3-2.3.4-15.3" />
          <path d="m478.8 1020.3-1.7 44" />
          <path d="m981.9 907.2 20.6.3 4.1-.7 4-2 3.5-51.6-12-11.5-18.2-.6" />
          <path d="m672 823 54.5 1.4" />
          <path d="M672 823h-6l-.3 11-.3 7.8" />
          <path
            d="m671.3 842 .3-7.8.4-11.2M1006.1 644.8l-1.3-.6-2.9-.8-14.6-.9M1027.2 635.5c-.1 2.4 0 5.3-.2 7.7-.2 2-.2 1.6-.7 3.6l-2.1 2.7-2 1.1-2 .5h-2.6l-2.4-.4-2.4-1.3-2.5-1.7-4.2-3 3.3-7.8 1.2-1.2 1.3-.5 15.3.3ZM987.7 619l12.5.4 25 .9" />
          <path d="m452.8 594.7.3-16.7" />
          <path d="M314.6 587h6.6l-.1 9-.4 16.6 39.8.2 43.7.2 48.9.3-.3-18.6-49 .7-43.5.3-39.2.3" />
          <path d="m315.3 578.4.8-17.1M453 544.1l.6 16.5" />
          <path
            d="m313.2 604.4 1.4-17.5.7-8.5 44.6.6 43.5-.3 49.7-.7.5-17.4-50.6 1.5-43.2-.4-43.7-.4.9-11.6 1.5-2.5 3.3-1.8 37.5.1h1.6l42-.1 50.2-1.3-.3-7-.6-8.2-22.6.5h-27l-20.8-.1-17.7 5.7-3.2 10.5" />
          <path d="m175.3 634.2-1.4-15.1M195.4 631.3l-2.6-15.6" />
          <path
            d="m58.5 955.9 5.4-1.6 6.8-9.4 4.5-21.4V907l-1.8-11.5-2.6-7.3-5.3-6.5-5.1-3.1M563.6 1087.2l-.8 34-.7 54-4.6 34.8M390.1 1025.4l.9-10.3-.5-2.9-2.4-1.5-14.3-1.2M119.2 630.5l-.2-9.9 4.6-5.6 14.1-2M271.3 1018.6l-28.8-2.5-7.3 1-7.5 2.3" />
          <path
            d="m224.7 1701.3-4.5-12.2-9.4-18.2-6.2-8.1-22-22-16-39.1-.7-1.9-1.5-1.2-1.5-1.2-6-.9-12-.2-12-3.2-12.4-1.4-36-.2-15.3-3.8-10.2-6.4-6.2-9.5-38.5-58.3-3.5-7.8-.2-8.2 31.2-97.1" />
          <path
            d="m157.3 1497.2-1 4-1.4 7.6 1.7 10.3 4.4 10.3 4.9 8.8 3.8 7.7-1.2 8.8-1.7 12.5-3 18-.4 7.8 1 5.6M295.9 1385l-25 20.2-10.5 24.4 7.9 21M413.8 1384l-44.4 26M592.5 1435.6l7.4 8 2.9 15 .5 23.3 6.1 30 13.6 25.5 29.3 37.6M555.1 1451.6l1.1-133" />
        </g>
        <g id="other">
          <path id="Barton-Hall"
            d="m834.4 792.5 23.5.2-.2 25.1h11l.2-17.7 11.8.1-.1 19.3h9.9l.2-25.8 22.5.2v-8h-1.8v-4l-30-.3-.1 6.1h-4.9v-2.5h-5v1.9H868l.1-6.7-33.7-.3v12.4Z" />
          <path id="Warren-Hall" d="m782.6 972 10.2.3.8-28.9 37.3 1 .2-6.7h-2.8l.4-12-15.3-.5-.2 7.5-29.6-.8-1 40.2Z" />
          <path id="Bray-Hall"
            d="m886 843 14.1.2-.1-7.4 22 .3v1.9h10.3l1.1-38.2-3.9-.2v-2.8h-6.2l-.7 29.1-38-.9-.2 6.5h2.9v4.6H886v6.9Z" />
          <path id="Crockett-Hall"
            d="M912.6 876h3.2l-.1 7.2 13.6.3.2-7 20.7.3v2.8l11.3.2.6-39.1h-5v-2.8h-5.9l-.5 29.7-38-.6v9Z" />
          <path id="Cary-Hall"
            d="m814.5 834.8 29.6.6-.1 7 14 .3.2-7.2H861.5l.2-10.4-37.1-.7.5-26.6v-2.5h-5.6v2.3l-4.2-.1-.8 37.3Z" />
          <path id="Nason-Hall"
            d="m908.7 945.5 37.6.6-.5 29.4 5 .1h1V973l4 .1.7-37.4-9.5-.2v1.5l-21.1-.3V929l-14.1-.3-.2 11.2h-2.9v5.5Z" />
          <path id="Hall-Hall" d="m784.8 874 45.2.9v-4.6h2.7l.1-5.3-38.6-.7.5-29.6h-5.6v3.4h-3.6l-.7 36Z" />
          <path id="Nason-Hall1"
            d="M826.5 1015.9h7.6v-2.6l3.2.2.3-13.8H835V995h1l.3-19.4h-.6v-2.2l9.7.5.2-10.6-16.4-.5-.1 12.5h-3.3l-.5 19.3 2 .2-.8 21Z" />
          <path id="Davison-Hall"
            d="m903 1014.4 3.2-.4.5 2.8h6.6l.1-21 2.6.2-.4-17.6-2.8-.2.3-12.6-16.1-.4-.2 10 9.5.6-.3 25.5-2.8-.4-.1 13.5Z" />
          <path id="Sharp-Hall" d="m843.5 1026.2 53 1 .2-9.9-53-.9-.2 9.8Z" />
          <path id="E-Complex"
            d="m411.2 641.8 10.3.2.4-12.4 7.9.2-.3 12.1 8.3.2.3-11.3 7.6.1-.3 12.7 11.4.3.6-21.5-45.7-1.1-.5 20.5Z" />
          <path id="North-Hall" d="m365.3 645.4 37.9 1.1.3-12.4-37.8-1.1-.4 12.4Z" />
          <path id="Quad"
            d="m511.4 710.9 12.4 2.3 2.3-12-1.2-.4 2.8-12.1 45.3 1.6v1h2.9l-1.1 41.7-1-.1-.3 7.2v5.7h.8l-1 42-.8-.1-.2 11.7 12 .4.2-12h-1l1.3-41.7h1l.2-5.3.1-7.4h-1l1-41.9h1.1l.4-12.2-14.4-.4v1.1l-53.5-2.3-4.3 20.7-1-.3-3 12.8Z" />
          <path id="Church-VI" d="m495 786.3 12.3-.4-.2-5.3-.1-5.4-12.3.4.4 10.7Z" />
          <path id="Moe-s-Grill" d="m566 1105.4 13 .5.2-1 5.1.4.2-6-18.2-1-.3 7Z" />
          <path id="Big-Apple-Pizzeria" d="m531.2 1101.1 9 .7.6-6.1-9.1-.7-.5 6.1Z" />
          <path id="College-Avenue-Parking-Garage"
            d="m277.2 1047.5 5.3.4-.6 8.3 73.4 5.7 1.2-16.2 6.5.5.6-7.5.8-11-26.9-2-42.7-3.4-15.4-1.3-1 10.9-1.2 15.6Z" />
          <path id="Playhouse" d="m534.2 855.9 33.3.7.5-26.3-33.3-.7-.5 26.3Z" />
          <path id="RSEi"
            d="m751 752.8 4 3.5-1.8 2 5.2 4.6 1.5 1.4 1.6-1.7 3.4 3 11.9-13.5 4.3 3.8 5.9-6.6-16.9-14.6-10.6 12.3-2-1.8-6.6 7.6Z" />
          <path id="Pubsafe"
            d="m627 819.1 2.5 3.5v3.9l-.2 4.8 3.6-2.2 27.6.7.1-4.8-11.5-14.4-13-.4-4 3.4-2.1-3.2-.3 6.1-.8 1-2 1.6Z" />
          <path id="Boiler-House"
            d="m216.4 696.7 43.4-1.2-.4-21-5.6-.1.1 2.5-5.7.4-.1 3.4h-3.4v-13l-14.7.3.4 10.4h-14.6l.6 18.3Z" />
        </g>
      </g>
      <g id="buildings">
        <path id="CBIS"
          d="m444 941.4 2.3.7.7 1.7 3.1 2.1.9 2.5 5.2 2.1 5.4-.4.9-.5s1.2 2.7 3.3 3c2.2.1 2.9-2 2.9-2l8.6.4-1 13.6 84.2 4 3.5.1-.3 4.5 11.4.5 1.6-77.9-11-.1-.2 6.7-4.8-.3.6-12-11.7-.7.1 4-9.5-.6-.6 40.5-81-2.2v-2.6h-12l-1 2.6h1.7l-3.4 10.3Z" />
        <path id="EMPAC"
          d="m80.2 985.6 8.8.8 76.2 6.4 2.3-27-4-.4 2.7-37.3-80-7-.6 8.7-5.1 1-1.4 18.4 6 2.7-.6 7.2-2-.4-2.3 27Z" />
        <path id="CII" d="M486 810v-16.5l-51.5.3.4 6.4 11.6 6-.2 3.8h39.8Z" />
        <path id="DCC"
          d="m446.3 810-.2 5v1.3l-.1 1.5.6.6 1.4 1.2.8 21.9-3.2.4-1.5.9-2 1.8-.1 2 .5 1.8 1.6 1.9 2.2.2 2.6.2 1.2 57.5 35.9-.5-1-13.3h2.8l-1.7-84.4h-39.8Z" />
        <path id="Armory"
          d="m629.8 931.3 8.6.8 32.3.6 36.8.7 1.5-55.7-20.4-1-55.4-1-.5 19.4-4.5-.2-.5 19h2.6l-.5 17.4Z" />
        <path id="JEC"
          d="m344.6 869.5 35.1-1-.2-9 24-.6-.3-12.6h-2v-3.9l7.6-.2-.3-9.5h-2L406 818l21-.6v-.6l-.2-10.3-88.9 2.4.2 7.5.1 3.4 10-.3.2 4.1h-1.8l.5 20.4 7.3-.2v2.4l-8.5.2.3 11.8h-2l.4 11.4Z" />
        <path id="Robinson-Pool"
          d="m607.4 977.3 47.6 1v-5l56.4 1.1.3-18-41.4-.9.4-22.8-32.3-.6-.1 4H633l-.2 6.3h-4.8l-.1 4.5-20-.4-.7 30.8Z" />
        <path id="Low"
          d="m487.8 894.3 6.8-.3.4 5.5 24.2-1.2.5 2h3.2v-82.2l4.2-.1-.2-2.6-.1-2.6-15.8.3-9.8-3.5-15.1.4 1.7 84.3Z" />
        <path id="Cogswell" d="m294.8 1022.3 42.7 3.5 1.7-16.5 28.5 1.9 2.5-27.6-72-6.5-2.4 31.5-1 13.7Z" />
        <path id="Folsom"
          d="M184.5 917.1h3.7l.1 5 32.9-1-.1-5.3h4.2l-1.4-56.5-4.3.1-.2-5.8-31.7.8.2 6.4-4.8.2 1.4 56.1Z" />
        <path id="Sage"
          d="m216.8 728.5 37.5-.2 35-.2-1.2-29.8 10.6-.4-.6-15.5-21.2.2.1 15.8 3.4-.2v4.2l-19.8.7v-3.7l-15.8.3-.1 3.5-29 .7 1 24.6Z" />
        <path id="Commons-Dining-Hall"
          d="m845.8 901.7 9.5.3v1.6l-.8 16 31.8 1.2.8-16.7.1-2.4 9.4.3.3-9.9h4.3l6.5-7.7-7.3-7-12.4-.4-2-.1V871l-2.2-.1.1-2.1-23.4-.7-3.8 1.4-.2 2h-1.2l-1.5.7-1 1.3v1.8l-4.2-.5-2.8 27Z" />
        <path id="Empire-State" d="m226.9 1000.1 54 4.5-.2 3 15.1 1 2.5-31.5v-3l-14.9-1v2.8l-17.5-1.5-37-3.2-2 28.9Z" />
        <path id="JROWL"
          d="m344.8 913.2 34.8 2.5-1 47.1 20 1 .1-3.4 2.1-49.6-2.4-.1.1-4.1.2-4.8-6.7-.3-11.1-.5.2-4.6-6-.3.3-6-6.8-.4-.2 5.2-22.5-1.2-1 19.5Z" />
        <path id="West"
          d="m95.9 656.6 12.2.3-.3 14 24.2.7.3-10.1 22.4.6.4-16.5.1-3.4-13.5-.4-8.7-.2.3-9.6-24.8-.7-.4 13.8-12-.4-.2 11.9Z" />
        <path id="'87-Gym" d="m444.1 696.1 21-.7 5-.2.5 16 25.2-1-.2-3.2-1.1-34.2-51.1 1.7.7 21.6Z" />
        <path id="Academy"
          d="m526.3 1041 23.3.8v6l-7.5-.2-.5 16.6 21.8.7-.1-8.7h-3l1.7-42.5h3.5l.3-10-22.5-.3-.4 17.1h-16.3l-.3 20.6Z" />
        <path id="Sage-Dining-Hall"
          d="M519.7 787.9h3.9l2.3.1-.5 13.1 23.4.7v-3.6h4l.4-8.4 4 .2.2-6.4.2-8-9.4-.4.3-8 1.9.2.3-8.7s-3.8-3.3-12.5-3.7a27.4 27.4 0 0 0-13.7 2.5l-.3 9 2 .3-.3 8.4-5.8-.4-.4 13Z" />
        <path id="VCC"
          d="m241.4 894.8 6.8-.4.4 7.8 26.6-.7v2.6l22.4-.2-.5-5.3 4.5-2.3 2.7-4.1-.7-5-2-3-4.2-1.9-.4-5.7-23 .5.5 3-27 .3v7.5l-6.2.2.1 6.7Z" />
        <path id="MRC" d="m192.8 997.6 34 2.5 2.2-29-15-1-19-1.4-2.2 29Z" />
        <path id="Walker"
          d="m166.2 751 14.8 3 2-9.8 11.4 2.3 3-15.5 6.8 1.4 2-10-7.3-1.4 1.9-9.4-3-.6-9.7-2-2 10-8.3-1.6-1.7 8.5-4.7-1-5.2 26.1Z" />
        <path id="Ricketts" d="m374.1 697 27-1 27.4-1.1-.7-17.5-54.4 2 .7 17.5Z" />
        <path id="Mueller"
          d="m633.2 875.7 55.4 1 .1-3.8h2.5l.2-11.2h-5.3v-1.8l-35.1-.7v-3.7l-5.3-.2-.1 7.2h-3v-1l-9-.2-.4 14.4Z" />
        <path id="Greene" d="m284.2 810.5 46-.7-.6-19.8-46.1 1.3.1 9.4.6 9.8Z" />
        <path id="Amos-Eaton" d="M173 812.6h1.7l9.9.2 32.8-.1.5-20.3-44.5.7-.5 16v3.5Z" />
        <path id="Pittsburgh"
          d="M103.3 720.1h9.9l-.3 2.2h13v-2.2l9.8.6v-20.3H130l-.2-4-8.6-1.5-11 1.3v4.2l-6.3.2-.6 19.5Z" />
        <path id="Troy" d="m319.2 694.6 19.1-.4 20-.5-.5-17.1-9.8.2V672l-19 .4.2 5.4-10.3.2.3 16.6Z" />
        <path id="Carnegie" d="m130.7 798 19 3.6 6.3-32.5-18.5-3.5-1.3 6.9-1.6-.3-1.7 8.8-1.6 8.8 1 .2-1.6 8Z" />
        <path id="Winslow" d="m42.6 768.6 12 .5 1.6-41-12.2-.4-1.4 41Z" />
        <path id="Lally" d="m234.4 812 30.5.5v-2l.3-11.3-15.3-.3-15.3-.2-.2 13.3Z" />
        <path id="Union"
          d="m626.5 768.2 3.2.3 2.1.1-.1 10 9.1.2 5.5.1v1.9l.6 1.6 1.2 2 1.1 1.1 1.3.8 1.3.6 10.5.3 1.8-.2 2-1.1 1.5-1.5 1.2-1.8.7-2.3-.2-8.4 4.7.2h1.6l13.3.7.2-56.2-40.5-1.7-17.2-.7-.5 7.8H628l-1.6 46.2Z" />
      </g>
      <g id="roadtop">
        <path d="m611.8 823-32.1-.7" />
        <path d="m440.1 816.5 86.8-1M406.2 810.8l13.3-.3 8.2 6" />
        <path d="m403.5 811 2.7-.2" />
        <path d="m332 817.2 12.7-4.8 56.6-1.5h2.2" />
        <path d="m401.3 811 1.3-1.6 15.4-.4 1.5 1.5" />
        <path d="m586 740.7-12.5-.6M155.2 645.6l9.8.4" />
      </g>
      <g id="walktop">
        <path d="m611.8 823-32.1-.7M440.1 816.5l86.8-1" />
        <path d="m332 817.1 12.7-4.7 56.6-1.5h2.2M406.2 810.8l13.3-.3 8.2 6H440" />
        <path d="m401.3 811 1.3-1.6 15.4-.4 1.5 1.5" />
        <path d="m403.5 811 2.7-.2" />
        <path d="m427 802.9 16 8v7.6l-9 10.2 2.3 2.3M155.2 645.6l9.8.4-.6 4.3-2.6 15" />
        <path d="m586 740.7-12.5-.6" />
      </g>
    </svg>
  </div>
</template>

<script>
export default {
  // Adds use of global variables
  inject: ["global"],
  props: ['unselected', 'bldgSVG'],
  watch: {
    // When unselected is changed
    unselected(newVar) {
      if (newVar)
        setTimeout(this.windowEventHandler, 800);
      else
        this.bringToFront(this.bldgSVG);
    },
    // This is run once, for a first calculation
    'global.firstCalc': {
      handler() {
        if (this.global.firstCalc) {
          this.applyBuildingColors();
        }
      }
    }
  },
  // General local variables
  data() {
    return {
      threshold: 1,
      doResize: "",
      mapZoom: 0,
      mapLeftTransform: 50,
      mapRightTransform: 50,
    }
  },
  updated() {
    this.$nextTick(() => {
      this.applyBuildingColors()
    })
    // if (this.ratio < this.threshold) {
    //   portraitMode = true;
    // } else {
    //   portraitMode = false;
    // }
  },
  mounted() {
    // Turn on the map
    map.style.opacity = 1
    setTimeout(() => map.style.transition = "transform .2s, width .4s", 500)
    // Check for resizing of window
    window.addEventListener("resize", this.windowResizeTimeout)
    // Allow for the scroll wheel to zoom the map
    let portraitMode = false;
    window.addEventListener("wheel", event => {
        if (!this.global.buildingMapOpen){
          let dirwheel = 0;
          if (event.deltaY>0) {
            dirwheel = -1;
          } else if (event.deltaY<0) {
            dirwheel = 1;
          }

          let x = window.innerWidth;
          let y = window.innerHeight;
          let ratio = x / y;
          portraitMode = false;
          if (this.ratio < this.threshold) {
            portraitMode = true;
          }
          if (portraitMode) {
            if (y/50+this.mapZoom+dirwheel*10>20) {
              this.mapZoom +=dirwheel*10;
            }
          } else {
            if (x/50+this.mapZoom+dirwheel*10>20) {
              this.mapZoom +=dirwheel*10;
            }
          }
          this.windowEventHandler();
        }
      })
    // Handles changes to the window
    this.windowEventHandler()
    window.addEventListener("mousedown", () => {
      window.addEventListener("mousemove", this.onMouseDrag);
    });
    window.addEventListener("mouseup", () => {
      window.removeEventListener("mousemove", this.onMouseDrag);
    });
  },
  methods: {
    // Applys the color of the building based on availability
    onMouseDrag({movementX, movementY }) {
      console.log("X:"+movementX+" Y:"+movementY);
      
      mapBox.style.left = `${this.mapLeftTransform+movementX}%`; 
      mapBox.style.top = `${this.mapRightTransform+movementY}%`; 
      
    },
    applyBuildingColors() {
      let colors = [
        "#eff5de", // >0%
        "#fef6c0", // >10%
        "#feeea4", // >20%
        "#fdd884", // >30%
        "#fdc675", // >40%
        "#fcad60", // >50%
        "#f99a57", // >60%
        "#f57948", // >70%
        "#eb6045", // >80%
        "#d7434b", // >90%
      ]
      for (const b of buildings.children) {
        let bldngHeat = 0
        try {
          bldngHeat = this.global.data[b.id].meta.heat
        } catch { console.warn(`Buildings w/o classes`) }
        let fill = ''
        if (bldngHeat >= 90)      fill = colors[9]
        else if (bldngHeat >= 80) fill = colors[8]
        else if (bldngHeat >= 70) fill = colors[7]
        else if (bldngHeat >= 60) fill = colors[6]
        else if (bldngHeat >= 50) fill = colors[5]
        else if (bldngHeat >= 40) fill = colors[4]
        else if (bldngHeat >= 30) fill = colors[3]
        else if (bldngHeat >= 20) fill = colors[2]
        else if (bldngHeat >= 10) fill = colors[1]
        else                      fill = colors[0]

        b.style.fill = fill
        let border = tinycolor(fill).darken(25).toString()
        b.style.stroke = border

      }
    },
    bringToFront(b) {
      let group = b.parentNode
      group.appendChild(b)
    },
    // Used so resizing isnt called forever, 
    // Stops calling when resize hasnt been changed for 300 seconds
    windowResizeTimeout() {
      console.log(this.unselected)
      if (this.unselected) {
        clearTimeout(this.doResize);
        this.doResize = setTimeout(this.windowEventHandler, 300);
      }
    },
    // Handles events when resize is changed
    windowEventHandler() {
      let x = window.innerWidth;
      let y = window.innerHeight;
      let ratio = x / y;
      console.log(this.mapZoom);
      if (this.ratio < this.threshold) { // portrait mode
        map.style.transform = `scale(${y/50+this.mapZoom})` + `rotate(90deg)`
      }
      else // landscape mode
        map.style.transform = `scale(${x/50+this.mapZoom})`
    }
  }
}
</script>

<style scoped>
#mapBox {
  position: absolute;
  left: 50%;
  top: 50%;
  will-change: transform;
  transform: translate(-50%, -50%) scale(1) scaleX(1) scaleY(1) rotate(0) skew(0deg, 0deg);
  justify-content: center;
  align-items: center;
  transition: 800ms ease all;
}

#map {
  /* startup properties (replaced): */
  opacity: 0;
  transition: width linear 2s, height linear 2s, opacity .8s;
  width: 50px;
  will-change: transform;
}

#buildings path {
  cursor: pointer;
  fill: var(--buildfill);
  stroke: var(--buildbord);
  stroke-width: 1px;
  transition-duration: .2s;
  transition: fill 0.5s;
  will-change: transform;
}

#other path {
  fill: var(--buildfill);
  stroke: var(--buildbord);
  stroke-width: 1px;
}

#bg {
  fill: none;
}

#roadlarge {
  stroke: var(--carroad);
  stroke-width: 9px;
}

#roadmed path {
  stroke: var(--carroad);
  stroke-width: 4px;
}

#roadsmall path {
  stroke: var(--carroad);
  stroke-width: 3px;
}

#roadtop path {
  fill: none;
  stroke: var(--carroad);
  stroke-width: 3px;
}

#walktop path {
  fill: none;
  stroke: var(--walkpath);
  stroke-width: 1px;
}

#walk path {
  stroke: var(--walkpath);
  stroke-width: 1px;
}

#stair path {
  stroke: var(--walkpath);
  stroke-width: 3px;
  stroke-dasharray: 1px;
}

</style>